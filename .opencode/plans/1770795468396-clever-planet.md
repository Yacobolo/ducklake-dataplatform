# Plan: Create AGENTS.md

## Summary
Create a ~150-line `AGENTS.md` at the repository root for agentic coding assistants (Claude Opus 4.6 / senior engineer level). No existing AGENTS.md, cursor rules, or copilot instructions exist.

## Key Facts from Exploration
- **Language:** Go 1.25.5 (primary) + C++ DuckDB extension
- **Architecture:** Clean/Hexagonal — domain, service, repository, API layers
- **Build runner:** Taskfile v3 (`Taskfile.yml`)
- **Code generation:** `oapi-codegen` (OpenAPI → types + server) and `sqlc` (SQL → Go)
- **Database:** DuckDB (analytics) + SQLite (metastore/RBAC)
- **Test framework:** Go stdlib `testing` only (no testify, no mockgen)
- **No linter config** beyond `go vet`
- **No CI/CD config**
- **No cursor/copilot rules**

## File to Create
- `/Users/yacobolo/dev/duck-demo/AGENTS.md`

## Content Outline (~150 lines)

1. **Project Overview** (~10 lines) — what this is, architecture summary
2. **Build & Run Commands** (~20 lines) — build, run, code generation
3. **Testing Commands** (~20 lines) — all tests, single package, single test, single subtest, integration tests
4. **Code Style** (~70 lines):
   - Import conventions (3-group: stdlib / third-party / internal)
   - Naming: files (snake_case), types/interfaces (PascalCase, no I prefix), functions, variables, constants
   - Constructor pattern (`New<Type>`)
   - Error handling (typed domain errors, `%w` wrapping, type switches at API boundary, `mapDBError` in repos)
   - Architecture layers and dependency direction
   - Interface-driven design (all interfaces in `domain/repository.go`)
   - Nullable fields (`*T` in domain, `sql.Null*` in DB layer)
   - Comments (GoDoc on exports, section markers `=== X ===`, numbered steps inline)
5. **Code Generation** (~10 lines) — never hand-edit `.gen.go`/`.sql.go`, how to regenerate
6. **Testing Conventions** (~15 lines) — table-driven, hand-written mocks, real DBs in tests, helpers pattern
7. **Key Directories** (~10 lines) — quick reference

## Verification
- Read the created `AGENTS.md` to ensure it's ~150 lines and covers all sections
- Confirm accuracy against actual codebase conventions
