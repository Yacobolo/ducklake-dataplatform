# ==============================================================================
# Server Configuration
# ==============================================================================

# HTTP listen address (default: ":8080")
LISTEN_ADDR=:8080

# Log level: debug, info, warn, error (default: "info")
LOG_LEVEL=info

# Path to SQLite metadata/permissions database (default: "ducklake_meta.sqlite")
META_DB_PATH=ducklake_meta.sqlite

# Environment: "development" (default) or "production".
# In production mode, OIDC auth and ENCRYPTION_KEY are required.
# ENV=production

# ==============================================================================
# Rate Limiting
# ==============================================================================

# Sustained requests per second (default: 100)
# RATE_LIMIT_RPS=100

# Maximum burst capacity (default: 200)
# RATE_LIMIT_BURST=200

# ==============================================================================
# Authentication / Security
# ==============================================================================

# OIDC issuer URL (for discovery-based JWT validation).
# Set AUTH_ISSUER_URL + AUTH_AUDIENCE, or set AUTH_JWKS_URL directly.
AUTH_ISSUER_URL=

# Optional explicit JWKS URL (use when discovery is unavailable).
AUTH_JWKS_URL=

# Required when AUTH_ISSUER_URL is set.
AUTH_AUDIENCE=

# 64-character hex string (32-byte AES-256-GCM key) for encrypting stored
# credentials at rest in SQLite.
# REQUIRED in production — insecure all-zeros default used if unset.
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# ==============================================================================
# S3-Compatible Storage (optional — enables DuckLake catalog + ingestion)
# ==============================================================================
# All four (KEY_ID, SECRET, ENDPOINT, REGION) must be set to enable S3 mode.
# Tests that require S3 will gracefully skip if these are absent.

# S3 access key ID
KEY_ID=

# S3 secret access key
SECRET=

# S3-compatible endpoint hostname (e.g. fsn1.your-objectstorage.com)
ENDPOINT=

# S3 region identifier (e.g. fsn1)
REGION=

# S3 bucket name (default: "duck-demo")
BUCKET=duck-demo
